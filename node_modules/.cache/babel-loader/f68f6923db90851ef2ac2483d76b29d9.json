{"ast":null,"code":"var _jsxFileName = \"/Users/eberge/Desktop/USC/ITP_404/Assignments/assignment-6-ellyrberge/src/FollowButton.js\";\nimport React, { useState, useEffect } from 'react';\nimport { fetchFollow, deleteFollow, saveFollow } from './api.js';\nexport default function FollowButton(memberID) {\n  const [followers, setFollowers] = useState([]);\n  const [isFollowers, setIsFollowers] = useState(false);\n  useEffect(() => {\n    fetchFollow().then(f => {\n      if (f !== undefined) {\n        setFollowers(f);\n        setIsFollowers(true);\n      }\n    });\n  }, []);\n\n  function addFollower(event) {\n    saveFollow({\n      followerID: event.target.value\n    }).then(newFollower => {\n      setIsFollowers(true);\n      setFollowers(followers.concat(newFollower));\n    });\n  }\n\n  function deleteFollower(event) {\n    deleteFollow(event.target.value).then(() => {\n      const filteredFollowers = followers.filter(f => {\n        return f.followerID !== event.target.value;\n      });\n\n      if (filteredFollowers === undefined) {\n        setIsFollowers(false);\n      }\n\n      setFollowers(filteredFollowers);\n    });\n  }\n\n  if (isFollowers === false) {\n    return /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      className: \"btn btn-outline-danger\",\n      value: memberID,\n      onClick: addFollower,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 16\n      }\n    }, \"Follow\");\n  } else {\n    followers.map(f => {\n      if (f.followerID === memberID) {\n        return /*#__PURE__*/React.createElement(\"button\", {\n          type: \"button\",\n          className: \"btn btn-outline-danger\",\n          value: memberID,\n          onClick: addFollower,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 42,\n            columnNumber: 24\n          }\n        }, \"Follow\");\n      } else {\n        return /*#__PURE__*/React.createElement(\"button\", {\n          type: \"button\",\n          className: \"btn btn-outline-danger\",\n          value: memberID,\n          onClick: deleteFollower,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 44,\n            columnNumber: 24\n          }\n        }, \"Unfollow\");\n      }\n    });\n  }\n\n  return (\n    /*#__PURE__*/\n    // {followers.map((f) => {\n    //     if(f.followerID === memberID){\n    //         return(<button type=\"button\" className=\"btn btn-outline-danger\" value={memberID} onClick={deleteFollower}>Unfollow</button>);\n    //     } else {\n    //         return(<button type=\"button\" className=\"btn btn-outline-danger\" value={memberID} onClick={addFollower}>Follow</button>);\n    //     }\n    // })}\n    React.createElement(React.Fragment, null)\n  );\n}","map":{"version":3,"sources":["/Users/eberge/Desktop/USC/ITP_404/Assignments/assignment-6-ellyrberge/src/FollowButton.js"],"names":["React","useState","useEffect","fetchFollow","deleteFollow","saveFollow","FollowButton","memberID","followers","setFollowers","isFollowers","setIsFollowers","then","f","undefined","addFollower","event","followerID","target","value","newFollower","concat","deleteFollower","filteredFollowers","filter","map"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,SAAQC,WAAR,EAAqBC,YAArB,EAAmCC,UAAnC,QAAoD,UAApD;AAGA,eAAe,SAASC,YAAT,CAAsBC,QAAtB,EAA+B;AAC1C,QAAM,CAACC,SAAD,EAAYC,YAAZ,IAA4BR,QAAQ,CAAC,EAAD,CAA1C;AACA,QAAM,CAACS,WAAD,EAAcC,cAAd,IAAgCV,QAAQ,CAAC,KAAD,CAA9C;AACAC,EAAAA,SAAS,CAAC,MAAM;AACZC,IAAAA,WAAW,GAAGS,IAAd,CAAoBC,CAAD,IAAO;AACxB,UAAGA,CAAC,KAAKC,SAAT,EAAmB;AACjBL,QAAAA,YAAY,CAACI,CAAD,CAAZ;AACAF,QAAAA,cAAc,CAAC,IAAD,CAAd;AACD;AACF,KALD;AAOH,GARQ,EAQN,EARM,CAAT;;AASA,WAASI,WAAT,CAAqBC,KAArB,EAA2B;AACvBX,IAAAA,UAAU,CAAC;AACPY,MAAAA,UAAU,EAAED,KAAK,CAACE,MAAN,CAAaC;AADlB,KAAD,CAAV,CAEKP,IAFL,CAEWQ,WAAD,IAAiB;AACrBT,MAAAA,cAAc,CAAC,IAAD,CAAd;AACFF,MAAAA,YAAY,CAACD,SAAS,CAACa,MAAV,CAAiBD,WAAjB,CAAD,CAAZ;AACH,KALD;AAMH;;AACD,WAASE,cAAT,CAAwBN,KAAxB,EAA8B;AAC1BZ,IAAAA,YAAY,CAACY,KAAK,CAACE,MAAN,CAAaC,KAAd,CAAZ,CAAiCP,IAAjC,CAAuC,MAAM;AACzC,YAAMW,iBAAiB,GAAGf,SAAS,CAACgB,MAAV,CAAkBX,CAAD,IAAO;AAChD,eAAOA,CAAC,CAACI,UAAF,KAAiBD,KAAK,CAACE,MAAN,CAAaC,KAArC;AACD,OAFyB,CAA1B;;AAGA,UAAGI,iBAAiB,KAAKT,SAAzB,EAAmC;AAC/BH,QAAAA,cAAc,CAAC,KAAD,CAAd;AACH;;AAEDF,MAAAA,YAAY,CAACc,iBAAD,CAAZ;AACH,KATD;AAUH;;AACD,MAAGb,WAAW,KAAK,KAAnB,EAAyB;AACrB,wBAAO;AAAQ,MAAA,IAAI,EAAC,QAAb;AAAsB,MAAA,SAAS,EAAC,wBAAhC;AAAyD,MAAA,KAAK,EAAEH,QAAhE;AAA0E,MAAA,OAAO,EAAEQ,WAAnF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAAP;AACH,GAFD,MAEO;AACHP,IAAAA,SAAS,CAACiB,GAAV,CAAeZ,CAAD,IAAO;AACjB,UAAGA,CAAC,CAACI,UAAF,KAAiBV,QAApB,EAA6B;AACzB,4BAAO;AAAQ,UAAA,IAAI,EAAC,QAAb;AAAsB,UAAA,SAAS,EAAC,wBAAhC;AAAyD,UAAA,KAAK,EAAEA,QAAhE;AAA0E,UAAA,OAAO,EAAEQ,WAAnF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAP;AACH,OAFD,MAEM;AACF,4BAAO;AAAQ,UAAA,IAAI,EAAC,QAAb;AAAsB,UAAA,SAAS,EAAC,wBAAhC;AAAyD,UAAA,KAAK,EAAER,QAAhE;AAA0E,UAAA,OAAO,EAAEe,cAAnF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAAP;AAEH;AACJ,KAPD;AAQH;;AACD;AAAA;AAEI;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AATJ;AAWH","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport {fetchFollow, deleteFollow, saveFollow} from './api.js';\n\n\nexport default function FollowButton(memberID){\n    const [followers, setFollowers] = useState([])\n    const [isFollowers, setIsFollowers] = useState(false)\n    useEffect(() => {\n        fetchFollow().then((f) => {\n          if(f !== undefined){\n            setFollowers(f)\n            setIsFollowers(true)\n          }\n        })\n        \n    }, []);\n    function addFollower(event){\n        saveFollow({\n            followerID: event.target.value,\n          }).then((newFollower) => {\n              setIsFollowers(true);\n            setFollowers(followers.concat(newFollower));\n        })\n    }\n    function deleteFollower(event){\n        deleteFollow(event.target.value).then (() => {\n            const filteredFollowers = followers.filter((f) => {\n              return f.followerID !== event.target.value;\n            });\n            if(filteredFollowers === undefined){\n                setIsFollowers(false)\n            }\n        \n            setFollowers(filteredFollowers);\n        });\n    }\n    if(isFollowers === false){\n        return(<button type=\"button\" className=\"btn btn-outline-danger\" value={memberID} onClick={addFollower}>Follow</button>);\n    } else {\n        followers.map((f) => {\n            if(f.followerID === memberID){\n                return(<button type=\"button\" className=\"btn btn-outline-danger\" value={memberID} onClick={addFollower}>Follow</button>);\n            }else {\n                return(<button type=\"button\" className=\"btn btn-outline-danger\" value={memberID} onClick={deleteFollower}>Unfollow</button>);\n\n            }\n        })\n    }\n    return(\n        \n        // {followers.map((f) => {\n        //     if(f.followerID === memberID){\n        //         return(<button type=\"button\" className=\"btn btn-outline-danger\" value={memberID} onClick={deleteFollower}>Unfollow</button>);\n        //     } else {\n        //         return(<button type=\"button\" className=\"btn btn-outline-danger\" value={memberID} onClick={addFollower}>Follow</button>);\n        //     }\n        // })}\n        <></>\n    );\n}"]},"metadata":{},"sourceType":"module"}