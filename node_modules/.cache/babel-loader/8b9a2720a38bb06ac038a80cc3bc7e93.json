{"ast":null,"code":"var _jsxFileName = \"/Users/eberge/Desktop/USC/ITP_404/Assignments/assignment-6-ellyrberge/src/FollowButton.js\";\nimport React, { useState, useEffect } from 'react';\nimport { fetchFollow, deleteFollow, saveFollow } from './api.js';\nexport default function FollowButton({\n  memberID\n}) {\n  const [followers, setFollowers] = useState([]);\n  const [isFollowers, setIsFollowers] = useState(false); // useEffect(() => {\n  //     fetchFollow().then((f) => {\n  //       if(f.length !== 0){\n  //         f.map((followers) => {\n  //             if(memberID === Number(followers.followerID)){\n  //                 setIsFollowers(true)\n  //             }\n  //         })\n  //       }\n  //     })\n  // }, [memberID]);\n\n  function addFollower(event) {\n    saveFollow({\n      followerID: event.target.value\n    }).then(newFollower => {\n      setFollowers(followers.concat(newFollower));\n      setIsFollowers(true);\n    });\n  }\n\n  function deleteFollower(event) {\n    const filteredFollowers = followers.filter(f => {\n      if (f.followerID === event.target.value) {\n        deleteFollow(f.id).then(() => {\n          setIsFollowers(false);\n        });\n      }\n\n      return f.followerID !== event.target.value;\n    });\n    setFollowers(filteredFollowers);\n  }\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, isFollowers ? /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    className: \"btn btn-outline-danger\",\n    value: memberID,\n    onClick: deleteFollower,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 29\n    }\n  }, \"Unfollow\") : /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    className: \"btn btn-outline-danger\",\n    value: memberID,\n    onClick: addFollower,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 14\n    }\n  }, \"Follow\"));\n}","map":{"version":3,"sources":["/Users/eberge/Desktop/USC/ITP_404/Assignments/assignment-6-ellyrberge/src/FollowButton.js"],"names":["React","useState","useEffect","fetchFollow","deleteFollow","saveFollow","FollowButton","memberID","followers","setFollowers","isFollowers","setIsFollowers","addFollower","event","followerID","target","value","then","newFollower","concat","deleteFollower","filteredFollowers","filter","f","id"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,SAAQC,WAAR,EAAqBC,YAArB,EAAmCC,UAAnC,QAAoD,UAApD;AAGA,eAAe,SAASC,YAAT,CAAsB;AAACC,EAAAA;AAAD,CAAtB,EAAiC;AAC5C,QAAM,CAACC,SAAD,EAAYC,YAAZ,IAA4BR,QAAQ,CAAC,EAAD,CAA1C;AACA,QAAM,CAACS,WAAD,EAAcC,cAAd,IAAgCV,QAAQ,CAAC,KAAD,CAA9C,CAF4C,CAG5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;AACA,WAASW,WAAT,CAAqBC,KAArB,EAA2B;AACvBR,IAAAA,UAAU,CAAC;AACPS,MAAAA,UAAU,EAAED,KAAK,CAACE,MAAN,CAAaC;AADlB,KAAD,CAAV,CAEKC,IAFL,CAEWC,WAAD,IAAiB;AACrBT,MAAAA,YAAY,CAACD,SAAS,CAACW,MAAV,CAAiBD,WAAjB,CAAD,CAAZ;AACAP,MAAAA,cAAc,CAAC,IAAD,CAAd;AAEL,KAND;AAOH;;AACD,WAASS,cAAT,CAAwBP,KAAxB,EAA8B;AAC1B,UAAMQ,iBAAiB,GAAGb,SAAS,CAACc,MAAV,CAAkBC,CAAD,IAAO;AAC9C,UAAIA,CAAC,CAACT,UAAF,KAAiBD,KAAK,CAACE,MAAN,CAAaC,KAAlC,EAAwC;AACpCZ,QAAAA,YAAY,CAACmB,CAAC,CAACC,EAAH,CAAZ,CAAmBP,IAAnB,CAAwB,MAAM;AAC1BN,UAAAA,cAAc,CAAC,KAAD,CAAd;AACH,SAFD;AAGH;;AACD,aAAQY,CAAC,CAACT,UAAF,KAAiBD,KAAK,CAACE,MAAN,CAAaC,KAAtC;AACH,KAPyB,CAA1B;AAQAP,IAAAA,YAAY,CAACY,iBAAD,CAAZ;AACH;;AAGD,sBACI,0CACKX,WAAW,gBAAI;AAAQ,IAAA,IAAI,EAAC,QAAb;AAAsB,IAAA,SAAS,EAAC,wBAAhC;AAAyD,IAAA,KAAK,EAAEH,QAAhE;AAA0E,IAAA,OAAO,EAAEa,cAAnF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAAJ,gBACX;AAAQ,IAAA,IAAI,EAAC,QAAb;AAAsB,IAAA,SAAS,EAAC,wBAAhC;AAAyD,IAAA,KAAK,EAAEb,QAAhE;AAA0E,IAAA,OAAO,EAAEK,WAAnF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAFL,CADJ;AAOH","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport {fetchFollow, deleteFollow, saveFollow} from './api.js';\n\n\nexport default function FollowButton({memberID}){\n    const [followers, setFollowers] = useState([])\n    const [isFollowers, setIsFollowers] = useState(false)\n    // useEffect(() => {\n    //     fetchFollow().then((f) => {\n    //       if(f.length !== 0){\n    //         f.map((followers) => {\n    //             if(memberID === Number(followers.followerID)){\n    //                 setIsFollowers(true)\n    //             }\n    //         })\n    //       }\n    //     })\n        \n    // }, [memberID]);\n    function addFollower(event){\n        saveFollow({\n            followerID: event.target.value,\n          }).then((newFollower) => {\n              setFollowers(followers.concat(newFollower))\n              setIsFollowers(true);\n            \n        })\n    }\n    function deleteFollower(event){\n        const filteredFollowers = followers.filter((f) => {\n            if (f.followerID === event.target.value){\n                deleteFollow(f.id).then(() => {\n                    setIsFollowers(false)\n                });\n            }\n            return (f.followerID !== event.target.value)\n        })\n        setFollowers(filteredFollowers)\n    }\n       \n    \n    return(\n        <>  \n            {isFollowers ? (<button type=\"button\" className=\"btn btn-outline-danger\" value={memberID} onClick={deleteFollower}>Unfollow</button>):\n            (<button type=\"button\" className=\"btn btn-outline-danger\" value={memberID} onClick={addFollower}>Follow</button>)\n            }\n        </>\n    );\n}"]},"metadata":{},"sourceType":"module"}